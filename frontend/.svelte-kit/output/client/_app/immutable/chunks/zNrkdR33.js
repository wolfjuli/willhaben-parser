var p=Object.defineProperty;var f=e=>{throw TypeError(e)};var v=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>v(e,typeof t!="symbol"?t+"":t,s),o=(e,t,s)=>t.has(e)||f("Cannot "+s);var h=(e,t,s)=>(o(e,t,"read from private field"),s?s.call(e):t.get(e)),d=(e,t,s)=>t.has(e)?f("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),u=(e,t,s,c)=>(o(e,t,"write to private field"),c?c.call(e,s):t.set(e,s),s);import{W as y,F as g}from"./7tyWikOm.js";var a;const i=class i extends y{constructor(){super(),i.fetch()}static get instance(){return h(i,a)||u(i,a,new i),h(i,a)}static get value(){return i.instance.value}static set value(t){i.instance.value=t}static fetch(t=void 0){g.whileFetching("scripts",()=>{const s=t?`?id=${t}`:"";return fetch(`/api/rest/v1/scripts/full${s}`).then(c=>c.json()).then(c=>{t||(i.value={}),c.forEach(r=>{i.value[r.id]=r})})})}static update(t){fetch("/api/rest/v1/scripts",{method:"put",body:JSON.stringify(t)}).then(()=>i.fetch(t.id))}static create(t){fetch("/api/rest/v1/scripts",{method:"post",body:JSON.stringify(t)}).then(()=>i.fetch(t.id))}static delete(t){fetch("/api/rest/v1/scripts",{method:"post",body:JSON.stringify(t)}).then(()=>delete i.value[t.id])}};a=new WeakMap,d(i,a),n(i,"createScriptFunction",t=>fetch("/api/rest/v1/script_functions",{method:"post",body:JSON.stringify(t)}).then(()=>i.fetch(t.scriptId))),n(i,"deleteScriptFunction",t=>fetch("/api/rest/v1/script_functions",{method:"delete",body:JSON.stringify(t)}).then(()=>i.fetch(t.scriptId)));let l=i;export{l as S};
